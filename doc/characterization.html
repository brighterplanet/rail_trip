<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <title>characterization.rb</title>
  <link rel="stylesheet" href="http://jashkenas.github.com/docco/resources/docco.css">
</head>
<body>
<div id='container'>
  <div id="background"></div>
  <table cellspacing=0 cellpadding=0>
  <thead>
    <tr>
      <th class=docs><h1>characterization.rb</h1></th>
      <th class=code></th>
    </tr>
  </thead>
  <tbody>
    <tr id='section-1'>
      <td class=docs>
        <div class="octowrap">
          <a class="octothorpe" href="#section-1">#</a>
        </div>
        <p> Rail trip&rsquo;s characterization is implemented using a domain-specific language
 provided by <a href="http://github.com/seamusabshere/characterizable">Characterizable</a>.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre><span class="nb">require</span> <span class="s1">&#39;characterizable&#39;</span>

<span class="k">module</span> <span class="nn">BrighterPlanet</span>
  <span class="k">module</span> <span class="nn">RailTrip</span></pre></div>
      </td>
    </tr>
    <tr id='section-2'>
      <td class=docs>
        <div class="octowrap">
          <a class="octothorpe" href="#section-2">#</a>
        </div>
        <h3>Rail trip: characterization</h3>

<p> This module is used by <a href="http://brighterplanet.com">Brighter Planet</a>&rsquo;s
 <a href="http://carbon.brighterplanet.com">emission estimate service</a> to provide
 curated attributes for the carbon model execution environment.</p>

<p> For more information see:</p>

<ul>
<li> <a href="http://carbon.brighterplanet.com/rail_trips/options">API documentation</a></li>
<li> <a href="http://github.com/brighterplanet/rail_trip">Source code</a></li>
</ul>
      </td>
      <td class=code>
        <div class='highlight'><pre>    <span class="k">module</span> <span class="nn">Characterization</span>
      <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">included</span><span class="p">(</span><span class="n">base</span><span class="p">)</span></pre></div>
      </td>
    </tr>
    <tr id='section-3'>
      <td class=docs>
        <div class="octowrap">
          <a class="octothorpe" href="#section-3">#</a>
        </div>
        <h4>The characterization</h4>
      </td>
      <td class=code>
        <div class='highlight'><pre>        <span class="n">base</span><span class="o">.</span><span class="n">send</span> <span class="ss">:include</span><span class="p">,</span> <span class="no">Characterizable</span></pre></div>
      </td>
    </tr>
    <tr id='section-4'>
      <td class=docs>
        <div class="octowrap">
          <a class="octothorpe" href="#section-4">#</a>
        </div>
        <p> This <code>characterize</code> block encapsulates the characterization. Typically
 emitter models will be backed by ActiveRecord, which will provide
 these attributes accessors based on database schema. The characteristics
 listed here define the standard public API to RailTrip.</p>
      </td>
      <td class=code>
        <div class='highlight'><pre>        <span class="n">base</span><span class="o">.</span><span class="n">characterize</span> <span class="k">do</span>
          <span class="n">has</span> <span class="ss">:rail_class</span>
          <span class="n">has</span> <span class="ss">:duration</span><span class="p">,</span> <span class="ss">:measures</span> <span class="o">=&gt;</span> <span class="ss">:time</span>
          <span class="n">has</span> <span class="ss">:distance_estimate</span><span class="p">,</span> <span class="ss">:trumps</span> <span class="o">=&gt;</span> <span class="ss">:duration</span><span class="p">,</span> <span class="ss">:measures</span> <span class="o">=&gt;</span> <span class="ss">:length</span>
        <span class="k">end</span>
        </pre></div>
      </td>
    </tr>
    <tr id='section-5'>
      <td class=docs>
        <div class="octowrap">
          <a class="octothorpe" href="#section-5">#</a>
        </div>
        <p> Additional characteristics are gleaned from the carbon model.</p>

      </td>
      <td class=code>
        <div class='highlight'><pre>        <span class="n">base</span><span class="o">.</span><span class="n">add_implicit_characteristics</span>
      <span class="k">end</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span></pre></div>
      </td>
    </tr>
    </table>
</div>
</body>
